<!DOCTYPE html>
<html lang="en">
<head>

    <!-- Basic Page Needs
    –––––––––––––––––––––––––––––––––––––––––––––––––– -->
    <meta charset="utf-8">
    <title>Read Story</title>
    <meta name="description" content="">
    <meta name="author" content="">
    <meta name="theme-color" content="white" />

    <!-- Mobile Specific Metas
    –––––––––––––––––––––––––––––––––––––––––––––––––– -->
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- FONT
    –––––––––––––––––––––––––––––––––––––––––––––––––– -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
    <link href="https://fonts.googleapis.com/css?family=Hind+Siliguri|Hind+Vadodara|Lato|Libre+Baskerville|Montserrat|Raleway|Vollkorn" rel="stylesheet">

    <!-- CSS
    –––––––––––––––––––––––––––––––––––––––––––––––––– -->
	<link href="system-font.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/dialog-polyfill/0.4.10/dialog-polyfill.min.css" integrity="sha256-qVjBFbunjrWQ4IikV5dkK1ziW9XKskisX1rUbCIJEhk=" crossorigin="anonymous" />

    <!-- Favicon
    –––––––––––––––––––––––––––––––––––––––––––––––––– -->
    <link rel="icon" type="image/png" href="https://placehold.it/32x32">

    <style>
        body {
            max-width: 100vw;
            min-height: 100vh;
            margin: 0;
        }

		pages, page, authors, labels, posted, updated {
            display: block;
		}


		dialog {
		  position: fixed;
		  top: 50%;
		  transform: translate(0, -50%);
		}

		templates {
			display: none;
		}

        .no-select {
            user-select: none;
            -webkit-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
            -o-user-select: none;
        }

        .pointer {
            cursor: pointer;
        }

        footer {
            border-top: 1px solid black;
            margin-top: 20px;
            padding-top: 10px;
            padding-bottom: 10px;
        }

		pages {
			font-family: Vollkorn;
			font-size: 17px;
			background: white;
        }

        navigation.flat {
            visibility: hidden;
        }

        pages:not(.flat) {
			display: flex;
			flex-direction: row;
			overflow-x: hidden;
		}

		page {
			padding: 2px 6px;
		}

		page {
			width: calc(100% - 10px);
			flex-shrink: 0;
		}

		authors a {
            text-decoration: none;
		}

		authors images {
            display: flex;
            flex-direction: row;
            flex-wrap: nowrap;
            justify-content: space-between;
            align-items: stretch;
            height: 150px;
        }
        authors images > a {
            width: 100%;
        }
        authors images > a > img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            object-position: center 20%;
        }

        authors names a {
            white-space: nowrap;
        }

		authors names a:before {
            color: initial;
		}

		authors names a:first-child:before {
            content: "by ";
		}

		authors names a:not(:last-child):not(:nth-last-child(2)):not(:only-of-type):after {
            content: ", ";
		}

		authors names a:last-child:not(:only-of-type):before {
            content: " and ";
		}

		posted:before {
            content: "Posted on";
		}

		updated:before {
            content: "Updated on";
		}

        info {
            text-align: center;
        }

		info details {
            text-align: start;
        }
		info details summary {
            font-weight: bold;
		}

		info details summary + * {
            margin-top: 0;
		}

		controls > *,
		#font-selection {
            margin-bottom: 6px;
		}

		#font-selection {
            width: 100%;
		}

		#zoom-controls {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
		}

		#other-controls {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
		}

		#hat-tips {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
		}

		navigation {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
		}

		main {
            display: grid;
            grid-template-columns: 200px 1fr;
            grid-template-rows: repeat(3, auto) 70px 1fr repeat(2, auto);
		}

		h1.title {
            grid-column: 1/3;
            grid-row: 1;
            text-align: center;
            margin: 0;
            padding-top: 4px;
            padding-bottom: 4px;
            border-bottom: 2px dashed #333;
		}
		info {
            grid-column: 1;
            grid-row: 2;
		}
		controls {
            grid-column: 1;
            grid-row: 3;
		}

		navigation {
            grid-column: 1;
            grid-row: 4;
		}

		pages {
            grid-column: 2;
            grid-row: 2 / 6;
            border-left: 2px dashed #333;
		}

		comments {
            grid-column: 1/3;
            grid-row: 6;
            border-top: 2px dashed #333;
		}

    </style>
</head>
<body onload="onLoad()" class="">

    <main>
        <h1 class="title">Title</h1>

        <info>
            <type>a story</type>
            <authors>
                <images>
                    <a href="#"><img src="https://via.placeholder.com/150x350"></a>
                    <a href="#"><img src="https://via.placeholder.com/150x150"></a>
                    <a href="#"><img src="https://via.placeholder.com/350x150"></a>
                </images>
                <names>
                    <a href="#">John Doe</a>
                    <a href="#">Joe Shmoe</a>
                    <a href="#">Felicia Goodbye</a>
                </names>
            </authors>
            <labels>
                <label>canon</label>
                <label>in-progress</label>
            </labels>
            <posted>
                <time datetime="2018-07-07">July 7th</time>
            </posted>
            <updated>
                <time datetime="2018-07-08">July 8th</time>
            </updated>
            <details>
                <summary>Description</summary>
                <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit.</p>
                <p>Mauris congue tortor leo, eu dignissim neque pellentesque quis.</p>
            </details>
        </info>
        <controls>
            <div id="text-controls">
                <select id="font-selection">
                    <option value="'Vollkorn', sans-serif" default-size="17px">Vollkorn</option>
                    <option value="'Libre Baskerville', 'Palatino Linotype', 'Book Antiqua', Palatino, serif" default-size="14px">Baskerville</option>
                    <option value="'Montserrat', serif" default-size="14px">Montserrat</option>
                    <option value="'Hind Siliguri', sans-serif" default-size="16px">Hind Siliguri</option>
                    <option value="'Lato', sans-serif" default-size="16px">Lato</option>
                    <option value="'Hind Vadodara', sans-serif" default-size="16px">Hind Vadodara</option>
                    <option value="'Helvetica Neue', Helvetica, Arial, sans-serif" default-size="16px">Helvetica</option>
                    <option value="Georgia, serif" default-size="16px">Georgia</option>
                </select>
                <span id="zoom-controls">
                    <button><i class="fa fa-search-plus"></i></button>
                    <button><i class="fa fa-search"></i></button>
                    <button><i class="fa fa-search-minus"></i></button>
                </span>
            </div>
            <div id="other-controls">
                <button><i class="fa fa-play"></i> </button>
                <button onclick="togglePagesFlatness()"><i class="fa fa-expand"></i></button>
                <button><i class="fa fa-book"></i></button>
                <button onclick="window.print(); return false;"><i class="fa fa-print"></i></button>
                <button><i class="fa fa-pencil"></i></button>
                <button href="#comments"><i class="fa fa-comment"></i></button>
            </div>
            <div id="hat-tips">
                <button><i class="fa fa-thumbs-up"></i></button>
                <span class="count">1</span>
                <i class="fa fa-user"></i>
                <span class="count">4</span>
            </div>
        </controls>

        <navigation>
            <button id="navigate-previous" onclick="scrollToPage(currentPage-1);" disabled>previous</button>
            <button id="navigate-next" onclick="scrollToPage(currentPage+1);" disabled>next</button>
        </navigation>

		<pages>
			<page id="page-a">
                <h1>Page A</h1>
                <p>
                    Lorem ipsum dolor sit amet, consectetur adipiscing elit. Mauris congue tortor leo, eu dignissim neque pellentesque quis. Donec a ante sagittis, scelerisque ante non, bibendum enim. Fusce elementum tristique nisi, eget scelerisque nulla vehicula quis. Morbi vehicula suscipit risus aliquet semper. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Suspendisse elementum condimentum hendrerit. Etiam tincidunt consectetur enim, vel euismod augue hendrerit tristique. Mauris ac lacus at nulla interdum interdum. Aenean pulvinar, ligula ac ullamcorper tempus, orci justo volutpat massa, sed venenatis augue sem interdum nisl. Nunc libero dui, vulputate quis tincidunt sed, condimentum et turpis. Donec ornare fermentum sagittis. Donec lobortis velit ut leo sollicitudin fringilla. Mauris mauris ex, gravida a rutrum vitae, condimentum sit amet dolor. Pellentesque sed justo eget sem dignissim porttitor quis ut nisl. Donec at risus ut mi tincidunt blandit. Suspendisse potenti.
                </p>
			</page>
			<page id="page-b">
                <h1>Page B</h1>
                <p>
                    Lorem ipsum dolor sit amet, consectetur adipiscing elit. Mauris congue tortor leo, eu dignissim neque pellentesque quis. Donec a ante sagittis, scelerisque ante non, bibendum enim. Fusce elementum tristique nisi, eget scelerisque nulla vehicula quis. Morbi vehicula suscipit risus aliquet semper. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Suspendisse elementum condimentum hendrerit. Etiam tincidunt consectetur enim, vel euismod augue hendrerit tristique. Mauris ac lacus at nulla interdum interdum. Aenean pulvinar, ligula ac ullamcorper tempus, orci justo volutpat massa, sed venenatis augue sem interdum nisl. Nunc libero dui, vulputate quis tincidunt sed, condimentum et turpis. Donec ornare fermentum sagittis. Donec lobortis velit ut leo sollicitudin fringilla. Mauris mauris ex, gravida a rutrum vitae, condimentum sit amet dolor. Pellentesque sed justo eget sem dignissim porttitor quis ut nisl. Donec at risus ut mi tincidunt blandit. Suspendisse potenti.
                </p>
                <p>
                    Lorem ipsum dolor sit amet, consectetur adipiscing elit. Mauris congue tortor leo, eu dignissim neque pellentesque quis. Donec a ante sagittis, scelerisque ante non, bibendum enim. Fusce elementum tristique nisi, eget scelerisque nulla vehicula quis. Morbi vehicula suscipit risus aliquet semper. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Suspendisse elementum condimentum hendrerit. Etiam tincidunt consectetur enim, vel euismod augue hendrerit tristique. Mauris ac lacus at nulla interdum interdum. Aenean pulvinar, ligula ac ullamcorper tempus, orci justo volutpat massa, sed venenatis augue sem interdum nisl. Nunc libero dui, vulputate quis tincidunt sed, condimentum et turpis. Donec ornare fermentum sagittis. Donec lobortis velit ut leo sollicitudin fringilla. Mauris mauris ex, gravida a rutrum vitae, condimentum sit amet dolor. Pellentesque sed justo eget sem dignissim porttitor quis ut nisl. Donec at risus ut mi tincidunt blandit. Suspendisse potenti.
                </p>
			</page>
			<page id="page-c">
                <h1>Page C</h1>
                <p>
                    Lorem ipsum dolor sit amet, consectetur adipiscing elit. Mauris congue tortor leo, eu dignissim neque pellentesque quis. Donec a ante sagittis, scelerisque ante non, bibendum enim. Fusce elementum tristique nisi, eget scelerisque nulla vehicula quis. Morbi vehicula suscipit risus aliquet semper. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Suspendisse elementum condimentum hendrerit. Etiam tincidunt consectetur enim, vel euismod augue hendrerit tristique. Mauris ac lacus at nulla interdum interdum. Aenean pulvinar, ligula ac ullamcorper tempus, orci justo volutpat massa, sed venenatis augue sem interdum nisl. Nunc libero dui, vulputate quis tincidunt sed, condimentum et turpis. Donec ornare fermentum sagittis. Donec lobortis velit ut leo sollicitudin fringilla. Mauris mauris ex, gravida a rutrum vitae, condimentum sit amet dolor. Pellentesque sed justo eget sem dignissim porttitor quis ut nisl. Donec at risus ut mi tincidunt blandit. Suspendisse potenti.
                </p>
			</page>
			<page id="page-d">
                <h1></h1>
                <p>
                    Lorem ipsum dolor sit amet, consectetur adipiscing elit. Mauris congue tortor leo, eu dignissim neque pellentesque quis. Donec a ante sagittis, scelerisque ante non, bibendum enim. Fusce elementum tristique nisi, eget scelerisque nulla vehicula quis. Morbi vehicula suscipit risus aliquet semper. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Suspendisse elementum condimentum hendrerit. Etiam tincidunt consectetur enim, vel euismod augue hendrerit tristique. Mauris ac lacus at nulla interdum interdum. Aenean pulvinar, ligula ac ullamcorper tempus, orci justo volutpat massa, sed venenatis augue sem interdum nisl. Nunc libero dui, vulputate quis tincidunt sed, condimentum et turpis. Donec ornare fermentum sagittis. Donec lobortis velit ut leo sollicitudin fringilla. Mauris mauris ex, gravida a rutrum vitae, condimentum sit amet dolor. Pellentesque sed justo eget sem dignissim porttitor quis ut nisl. Donec at risus ut mi tincidunt blandit. Suspendisse potenti.
                </p>
			</page>
		</pages>

		<comments>
            <h2>Comments</h2>
            <comment>
                <author>Jane Doe</author>
                <posted>
                    <time datetime="2018-07-07">July 7th</time>
                </posted>
                <content>
                    Aenean pulvinar, ligula ac ullamcorper tempus, orci justo volutpat massa, sed venenatis augue sem interdum nisl.
                </content>
            </comment>
            <comment>
                <author>John Smith</author>
                <posted>
                    <time datetime="2018-08-29">August 31st</time>
                </posted>
                <content>
                    Nunc libero dui, vulputate quis tincidunt sed, condimentum et turpis. Donec ornare fermentum sagittis. Donec lobortis velit ut leo sollicitudin fringilla. Mauris mauris ex, gravida a rutrum vitae, condimentum sit amet dolor.
                </content>
            </comment>
		</comments>

    </main>

    <footer>
        &copy; Samuel Sarette 2018
    </footer>

	<templates>
	</templates>

<!-- End Document
  –––––––––––––––––––––––––––––––––––––––––––––––––– -->
<script>
	"use strict";

	let currentPage;
	let totalPages = 1;

    function onLoad() {
        totalPages = document.querySelectorAll("pages page").length;
        if (totalPages === 1) {
            document.getElementsByTagName("navigation")[0].style.display = 'none';
        }
        scrollToPage(1);
    }

	function togglePagesFlatness() {
        let pages = document.getElementsByTagName("pages")[0];
        let pageNavigation = document.getElementsByTagName("navigation")[0];

        if (pages.classList.contains("flat")) {
            pages.classList.remove("flat");
            pageNavigation.classList.remove("flat");
        } else {
            pages.classList.add("flat");
            pageNavigation.classList.add("flat");
        }
        scrollToPage(1);
	}

    function scrollToPage(index) {
        if (totalPages === 1 || index < 1 || index > totalPages) return;
        currentPage = index;
        document.getElementById("navigate-previous").disabled = currentPage <= 1;
        document.getElementById("navigate-next").disabled = currentPage >= totalPages;

        let pages = document.getElementsByTagName("pages")[0];
        let page = document.querySelector("page:nth-child(" + index + ")");
        const x = page.getBoundingClientRect().left - pages.getBoundingClientRect().left + pages.scrollLeft;
        requestAnimationFrame(() => pages.scroll({ left: x, behavior: 'smooth' }));
    }

	function scrollTo(element) {
		const y = element.getBoundingClientRect().top + window.scrollY;
		requestAnimationFrame(() => window.scroll({ top: y, behavior: 'smooth' }));
	}

</script>
</body>
</html>
